<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Generador de Comprobantes</title>

<style>

body{
font-family: Arial Black, Arial, sans-serif;
background:#212838;
color:white;
padding:20px;
text-align:center;
}

.logo{
width:200px;
margin-bottom:10px;
}

h1{
margin-bottom:20px;
}

.contenedor{
background:#2f3a52;
padding:20px;
border-radius:10px;
max-width:900px;
margin:auto;
}

/* Inputs */
input, select{
padding:8px;
margin:5px;
border-radius:5px;
border:none;
width:180px;
}

/* Botones */
button{
margin-top:10px;
padding:8px 15px;
background:#08C6AB;
color:#212838;
border:none;
cursor:pointer;
font-weight:bold;
border-radius:5px;
}

button:hover{
background:#726EFF;
color:white;
}

/* Tabla productos */
.tabla-productos{
width:100%;
border-collapse:collapse;
margin-top:15px;
background:white;
color:black;
}

.tabla-productos th{
background:#1b2335;
color:white;
padding:10px;
}

.tabla-productos td{
border:1px solid #ccc;
padding:8px;
}

.seccion{
margin-top:20px;
}

/* Totales */
.totales{
margin-top:20px;
font-size:18px;
}

</style>
</head>

<body>

<img src="logo.png" class="logo">

<h1>Generador de Comprobantes</h1>

<div class="contenedor">

<div class="seccion">
<select id="vendedor">
<option>Lucas</option>
<option>Ariel</option>
</select>

<input type="text" id="cliente" placeholder="Cliente">
</div>

<div class="seccion">

<h3>Agregar Producto</h3>

<input type="text" id="detalle" placeholder="Detalle">
<input type="number" id="cantidad" placeholder="Cantidad">
<input type="number" id="precio" placeholder="Precio">

<br>

<button onclick="agregarProducto()">Agregar Producto</button>

</div>

<div class="seccion">

<h3>Productos</h3>

<table class="tabla-productos">
<thead>
<tr>
<th>Detalle</th>
<th>Cantidad</th>
<th>Precio</th>
<th>Total</th>
<th></th>
</tr>
</thead>

<tbody id="listaProductos"></tbody>

</table>

</div>

<div class="seccion">
<input type="number" id="descuento" placeholder="Descuento %" value="0" onchange="calcularTotal()">
</div>

<div class="totales">
Total: $<span id="total">0</span>
</div>

<div class="seccion">
<button onclick="generar()">Generar Comprobante</button>
</div>

</div>

<script>

let productos = [];

function agregarProducto(){

let detalle = document.getElementById("detalle").value;
let cantidad = parseFloat(document.getElementById("cantidad").value);
let precio = parseFloat(document.getElementById("precio").value);

if(!detalle || !cantidad || !precio){
alert("Completa todos los campos");
return;
}

productos.push({detalle,cantidad,precio});

renderProductos();

document.getElementById("detalle").value="";
document.getElementById("cantidad").value="";
document.getElementById("precio").value="";
}

function renderProductos(){

let tabla = document.getElementById("listaProductos");
tabla.innerHTML="";

productos.forEach((p,index)=>{

let total = p.cantidad * p.precio;

tabla.innerHTML += `
<tr>
<td>${p.detalle}</td>
<td>${p.cantidad}</td>
<td>${p.precio}</td>
<td>${total}</td>
<td><button onclick="eliminarProducto(${index})">X</button></td>
</tr>
`;

});

calcularTotal();
}

function eliminarProducto(index){
productos.splice(index,1);
renderProductos();
}

function calcularTotal(){

let total = 0;

productos.forEach(p=>{
total += p.cantidad * p.precio;
});

let descuento = parseFloat(document.getElementById("descuento").value) || 0;

let totalFinal = total - (total * (descuento/100));

document.getElementById("total").innerText = totalFinal.toFixed(2);
}

function generar(){

let vendedor = document.getElementById("vendedor").value;
let cliente = document.getElementById("cliente").value;
let total = document.getElementById("total").innerText;

alert(
"Comprobante generado\n\n"+
"Vendedor: "+vendedor+"\n"+
"Cliente: "+cliente+"\n"+
"Total: $"+total
);

}

</script>

</body>
</html>
